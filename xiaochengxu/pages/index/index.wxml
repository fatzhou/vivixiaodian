<template name="wareItem">
  <view href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
                        <view class="weui-media-box__hd">
                            <image class="weui-media-box__thumb"
                                   src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAeFBMVEUAwAD///+U5ZTc9twOww7G8MYwzDCH4YcfyR9x23Hw+/DY9dhm2WZG0kbT9NP0/PTL8sux7LFe115T1VM+zz7i+OIXxhes6qxr2mvA8MCe6J6M4oz6/frr+us5zjn2/fa67rqB4IF13XWn6ad83nxa1loqyirn+eccHxx4AAAC/klEQVRo3u2W2ZKiQBBF8wpCNSCyLwri7v//4bRIFVXoTBBB+DAReV5sG6lTXDITiGEYhmEYhmEYhmEYhmEY5v9i5fsZGRx9PyGDne8f6K9cfd+mKXe1yNG/0CcqYE86AkBMBh66f20deBc7wA/1WFiTwvSEpBMA2JJOBsSLxe/4QEEaJRrASP8EVF8Q74GbmevKg0saa0B8QbwBdjRyADYxIhqxAZ++IKYtciPXLQVG+imw+oo4Bu56rjEJ4GYsvPmKOAB+xlz7L5aevqUXuePWVhvWJ4eWiwUQ67mK51qPj4dFDMlRLBZTqF3SDvmr4BwtkECu5gHWPkmDfQh02WLxXuvbvC8ku8F57GsI5e0CmUwLz1kq3kD17R1In5816rGvQ5VMk5FEtIiWislTffuDpl/k/PzscdQsv8r9qWq4LRWX6tQYtTxvI3XyrwdyQxChXioOngH3dLgOFjk0all56XRi/wDFQrGQU3Os5t0wJu1GNtNKHdPqYaGYQuRDfbfDf26AGLYSyGS3ZAK4S8XuoAlxGSdYMKwqZKM9XJMtyqXi7HX/CiAZS6d8bSVUz5J36mEMFDTlAFQzxOT1dzLRljjB6+++ejFqka+mXIe6F59mw22OuOw1F4T6lg/9VjL1rLDoI9Xzl1MSYDNHnPQnt3D1EE7PrXjye/3pVpr1Z45hMUdcACc5NVQI0bOdS1WA0wuz73e7/5TNqBPhQXPEFGJNV2zNqWI7QKBd2Gn6AiBko02zuAOXeWIXjV0jNqdKegaE/kJQ6Bfs4aju04lMLkA2T5wBSYPKDGF3RKhFYEa6A1L1LG2yacmsaZ6YPOSAMKNsO+N5dNTfkc5Aqe26uxHpx7ZirvgCwJpWq/lmX1hA7LyabQ34tt5RiJKXSwQ+0KU0V5xg+hZrd4Bn1n4EID+WkQdgLfRNtvil9SPfwy+WQ7PFBWQz6dGWZBLkeJFXZGCfLUjCgGgqXo5TuSu3cugdcTv/HjqnBTEMwzAMwzAMwzAMwzAMw/zf/AFbXiOA6frlMAAAAABJRU5ErkJggg=="
                                   alt="" data-currentType="{{currentType}}" data-itemIndex="{{itemIndex}}" data-item="{{item}}" catchtap="tapItemInfo"></image>
                        </view>
                        <view class="weui-media-box__bd">
                            <view class="weui-media-box__title">{{item.name}}</view>

                            <view class="weui-media-box__desc">已售{{item.aleadySold}}</view>

                            <view class="weui-media-box__info">
                                <text>{{item.price}}元</text>

                                <view class="price-oper">
                                    <navigator data-item="{{item}}" data-step="{{-1}}" data-currentType="{{currentType}}" data-itemIndex="{{itemIndex}}" bindtap="tapOrderItem" wx-if="{{item.orderNum>0}}">
                                        <icon class="iconfont-dasan-11"/>
                                    </navigator>
                                    <text>{{item.orderNum}}</text>
                                    <navigator href="#" class="" data-item="{{item}}" data-step="{{1}}" data-currentType="{{currentType}}" data-itemIndex="{{itemIndex}}" bindtap="tapOrderItem"><icon
                                            class="iconfont-dasan-12"/></navigator>
                                </view>
                            </view>
                        </view>
                    </view>
</template>

<template name="itemTips">
<!--dialog proview start-->
    <view class="js_dialog product-view" id="iosDialog1" style="opacity: 1;">
    <view class="weui-mask"></view>
    <view class="weui-dialog pro-view">
        <!--item1-->
        <view class="pro-view-item">
            <navigator href="#" class="cancel" bindtap="tapHideTips"><icon class="weui-icon-cancel"/></navigator>

            <view class="weui-dialog__hd"><strong class="weui-dialog__title">商品列表展示</strong></view>
            <view class="weui-dialog__bd"><image src="../res/pic/1.png" mode="aspectFill"></image></view>
            <view class="weui-dialog__ft">
                <view href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg">
                    <view class="weui-media-box__bd"><view class="weui-media-box__title"><view>{{showItem.name}}</view><text>{{showItem.price}}元</text></view></view>
                    <view class="weui-media-box__fd">
                        <view class="weui-media-box__info">
                            <view class="price-oper">
                            <navigator href="#" data-item="{{showItem}}" data-step="{{-1}}" data-currentType="{{showWareIndex}}" data-itemIndex="{{showItemIndex}}" bindtap="tapOrderItem" wx-if="{{showItem.orderNum>0}}">
                            <icon class="iconfont-dasan-11"/> 
                            </navigator>
                            <text>{{showItem.orderNum}}</text>
                                <navigator href="#" class="" data-item="{{showItem}}" data-step="{{1}}" data-currentType="{{showWareIndex}}" data-itemIndex="{{showItemIndex}}" bindtap="tapOrderItem"><icon
                                        class="iconfont-dasan-12"/> </navigator></view></view>
                    </view>
                </view>
            </view>
        </view>

    </view>
</view>

    <!--dialog proview end-->
</template>

<view class="container">
    <view class="wrap">
        <view class="shop-wrap">
            <view class="shop-layer">

                <view class="weui-panel__hd">
                    <navigator url="" class="{{currentType==-1?pressedTypeStyle:normalTypeStyle}}" bindtap="tapAllType">
                        全部分类
                    </navigator>
                    <block wx:for="{{shop.wares}}" wx:for-item="ware">
        <navigator url="" class="{{index==currentType?pressedTypeStyle:normalTypeStyle}}" data-source="{{ware}}" data-index="{{index}}" bindtap="tapType">
                        {{ware.typeName}}
                    </navigator>
    </block>
                </view>
                <view class="weui-panel__bd">
                <block wx:if="{{currentType <= -1}}">
                    <block wx:for="{{shop.wares}}" wx:for-item="ware" wx:for-index="currentType">
                        <block wx:for="{{ware.items}}" wx:for-item="item" wx:for-index="itemIndex">
                            <template is="wareItem" data="{{item, currentType, itemIndex}}"/>
                        </block>
                    </block>
                </block>
                <block wx:else>
                    <block wx:for="{{shop.wares[currentType].items}}" wx:for-item="item" wx:for-index="itemIndex">
                        <template is="wareItem" data="{{item, currentType, itemIndex}}"/>
                    </block>
                </block>
                    
                </view>
            </view>
        </view>

    </view>
    <!--购物车-->
    <view class="weui-cells shopcar-bar">
        <view class="weui-cell">
            <view class="weui-cell__bd">
                <view><i class="iconfont-dasan-15"></i>¥{{totalPrice}}</view>
            </view>
            <view class="weui-cell__ft">
                <navigator href="javascript:;" class="weui-btn weui-btn_primary">立即支付</navigator>
            </view>
        </view>
    </view>
    <!--footer-->
     <!--<view class="footer">
        <view class="weui-tabbar">

            <navigator url="#" class="weui-tabbar__item weui-bar__item_on">
                <view>
                    <icon class="iconfont iconfont-dasan-28 weui-tabbar__icon"/>
                </view>

                <text class="weui-tabbar__label">首页</text>
            </navigator>

            <navigator url="../shopcenter/index" class="weui-tabbar__item">
                <view>
                    <icon class="iconfont iconfont-dasan-30 weui-tabbar__icon"/>
                </view>

                <text class="weui-tabbar__label">小铺信息</text>
            </navigator>
        </view>
    </view>-->
      <!--footer end-->
      <block wx-if="{{isShowItemInfo}}">
        <template is="itemTips" data="{{showItem , showWareIndex, showItemIndex}}"/>
      </block>
</view>
